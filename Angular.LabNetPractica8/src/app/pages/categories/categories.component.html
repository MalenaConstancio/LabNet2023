<div class="container-xl">
	<div class="table-responsive">
		<div class="table-wrapper">
			<div class="table-title">
				<div class="row">
					<div class="col-sm-6">
						<h2>Gestionar <b>Categorias</b></h2>
					</div>
					<div class="col-sm-6">
						<button  class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addCategorieModal"><span><img src="/assets/icoonoAgregar.png" alt=""/>  Agregar Nueva Categoria</span></button>
					</div>
				</div>
			</div>
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th class="d-none"> </th>
						<th>Nombre</th>
						<th>Descripcion</th>
					</tr>
				</thead>
				<tbody *ngIf="categorias">
						<tr *ngFor="let categorie of categorias">
							<td class="d-none">{{categorie.IdCategoria}}</td>
							<td>{{categorie.NombreCategoria}}</td>
							<td>{{categorie.DescripcionCategoria}}</td>
							<td>
								<a href="" class="edit" data-bs-toggle="modal" data-bs-target="#editCategorieModal"><img src="/assets//iconoEdit.png" alt=""/></a>
								<a href="" class="delete" data-bs-toggle="modal" data-bs-target="#deleteCategorieModal"><img src="/assets/iconoDelete.png" alt=""/></a>
							</td>
						</tr>
				</tbody>
			</table>
			<div class="clearfix">
				<ul class="pagination">
					<li class="page-item disabled"><a href="#"><<</a></li>
					<li class="page-item"><a href="#" class="page-link">1</a></li>
					<li class="page-item"><a href="#" class="page-link">2</a></li>
					<li class="page-item active"><a href="#" class="page-link">3</a></li>
					<li class="page-item"><a href="#" class="page-link">4</a></li>
					<li class="page-item"><a href="#" class="page-link">5</a></li>
					<li class="page-item"><a href="#" class="page-link">>></a></li>
				</ul>
			</div>
		</div>
	</div>        
</div>
<!-- Add Modal HTML -->
<div id="addCategorieModal" class="modal fade"data-bs-backdrop="static">
	<div class="modal-dialog">
		<div class="modal-content">
			<form [formGroup]="frmAgregar" (ngSubmit)="onSubmit()" name="frmAgregar"class="fontModal">
				<div class="modal-header">						
					<h4 class="modal-title">Agregar Categoria</h4>
					<button id="btnClose"type="button"  data-bs-dismiss="modal" aria-hidden="true"><img src="/assets/iconoClose.png"></button>
				</div>
				<div class="modal-body">					
					<div class="form-group">
						<label>Nombre</label>
						<input type="text" formControlName="NombreCategoria" class="form-control" required>
						<span *ngIf="frmAgregar.get('NombreCategoria')?.invalid && frmAgregar.get('NombreCategoria')?.touched">
							<div class="alert alert-danger" *ngIf="frmAgregar.get('NombreCategoria')?.errors?.['required']">El nombre no puede quedar vacío</div>
							<div class="alert alert-danger" *ngIf="frmAgregar.get('NombreCategoria')?.errors?.['maxlength']">Debe tener como máximo 15 caracteres</div>
						</span>
					</div>
					<div class="form-group">
						<label>Descripcion</label>
						<input type="text" formControlName="DescripcionCategoria" class="form-control" required>
						<span class="alert alert-danger"*ngIf="frmAgregar.get('DescripcionCategoria')?.invalid && frmAgregar.get('DescripcionCategoria')?.touched">
							La descripción no puede quedar vacía
						</span>
					</div>				
				</div>
				<div class="modal-footer">
					<input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancelar">
					<input type="submit" class="btn btn-success" [disabled]="!frmAgregar.valid" value="Agregar">
				</div>
			</form>
		</div>
	</div>
</div>
<!-- Edit Modal HTML -->
<div id="editCategorieModal" class="modal fade">
	<div class="modal-dialog">
		<div class="modal-content">
			<form class="fontModal">
				<div class="modal-header">						
					<h4 class="modal-title">Editar Categoria</h4>
					<button type="button" id="btnClose" class="close" data-bs-dismiss="modal" aria-hidden="true"><img src="/assets/iconoClose.png"></button>
				</div>
				<div class="modal-body">
					<div class="form-group d-none">
						<label>Id</label>
						<input type="text" class="form-control" required>
					</div>						
					<div class="form-group">
						<label>Nombre</label>
						<input type="text" class="form-control" required>
					</div>
					<div class="form-group">
						<label>Descripcion</label>
						<input type="email" class="form-control" required>
					</div>		
				</div>
				<div class="modal-footer">
					<input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancelar">
					<input type="submit" class="btn btn-success" value="Guardar">
				</div>
			</form>
		</div>
	</div>
</div>
<!-- Delete Modal HTML -->
<div id="deleteCategorieModal" class="modal fade">
	<div class="modal-dialog">
		<div class="modal-content">
			<form class="fontModal">
				<div class="modal-header">						
					<h4 class="modal-title">Eliminar Categoria</h4>
					<button type="button" id="btnClose" class="close" data-bs-dismiss="modal" aria-hidden="true"><img src="/assets/iconoClose.png"></button>
				</div>
				<div class="modal-body">					
					<p>Seguro que quiere eliminar esta Categoria?</p>
					<p class="text-black-50"><small>*No puede eliminar Categorias que posean Productos asignados</small></p>
				</div>
				<div class="modal-footer">
					<input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancelar">
					<input type="submit" class="btn btn-success" value="Eliminar">
				</div>
			</form>
		</div>
	</div>
</div>
